
#
# Aliases for most often used docker commands
#

export DOCKER_CMD='docker'
unamestr=`uname`
if [[ "$unamestr" == 'Linux' ]]; then
   export DOCKER_CMD='sudo docker'
fi

d-toolbox()
{
  echo "switching to docker toolbox"
  eval "$(docker-machine env default)"
}

d-mac()
{
  echo "switching to docker for mac"
  unset ${!DOCKER_*} 
}

d-build()
{
  docker build -t $1 .
}

d-rm-exited-containers()
{
  echo "Removing exited docker containers.."
  docker ps -a --no-trunc --filter "status=exited"
  docker rm $(docker ps -qa --no-trunc --filter "status=exited")
}

d-rm-dangling-images()
{
  echo "Removing dangling docker images.."
  docker images --filter "dangling=true" --no-trunc
  docker rmi $(docker images --filter "dangling=true" -q --no-trunc)
}

d-shell()
{
  echo "opening shell in container $1"
  $DOCKER_CMD exec -it $1 bash
}

d-log()
{
  $DOCKER_CMD logs $1 
}

